---
name: medical-navigation
description: 基于《物理诊断学》教材的全科智能导诊。通过教材规范的问诊流程（5轮问诊覆盖病因、发生机制、临床表现、伴随症状），系统收集患者症状信息，结合诊断思路分析，最终给出挂号科室推荐。适用于患者描述症状后需要导诊挂号的场景。
---

# 全科智能导诊（基于教材问诊规范）

## 概述

本技能为面向患者的完整导诊业务流程，基于项目中 **BOOK 目录下的教材内容**（《物理诊断学》第一篇「诊断篇」），通过规范的问诊流程收集症状信息，给出诊断思路分析和科室推荐。

### 核心特点

1. **教材依据**：问诊维度完全来自教材，覆盖全部 **19 个常见症状**
2. **结构化问诊**：5 轮问诊覆盖「主诉→现病史→加重/缓解→伴随症状→补充信息」
3. **双重输出**：诊断思路分析 + 科室推荐（含紧急程度判断）
4. **急诊拦截**：任意轮次发现急诊指征立即中断问诊

### 覆盖的 19 个症状

发热、胸痛、腹痛、头痛与头晕、咳嗽与咳痰、呼吸困难、咯血、发绀、心悸、黄疸、呕血与便血、恶心呕吐、腹泻与便秘、尿频尿急尿痛、血尿、少尿无尿、水肿、意识障碍、热性惊厥

---

## 教材依据

- **知识来源**：`BOOK/` 目录下教材扫描页（IMG_1091 ~ IMG_1112，共 22 页）
- **教材结构**：常见症状按 **常见病因 → 发生机制 → 临床表现 → 伴随症状 → 诊断思路** 编排
- **问诊框架**：教材「问诊的主要内容」包括一般项目、主诉、现病史（部位/性质/时间/程度/加重缓解）、既往史、家族史
- **参考文件**：
  - `references/department-mapping.md` — 19症状→科室映射规则
  - `references/symptom-inquiry-guide.md` — 按主诉的问诊路径速查
  - `../diagnostic-reasoning/` — 问诊框架来源

---

## 业务流程

### 急诊拦截机制（任意轮次触发）

在问诊过程中，**一旦**发现以下任何急诊指征，**立即停止后续问诊**，直接输出急诊建议：

| 急诊指征 | 症状类别 |
|---------|---------|
| 🔴 高热（>39°C）伴意识障碍或精神恍惚 | 发热 |
| 🔴 剧烈胸痛伴大汗、面色苍白、血压下降 | 胸痛 |
| 🔴 大咯血（>100ml）或持续咯血不止 | 咯血 |
| 🔴 剧烈腹痛伴板状腹（腹肌紧张如木板） | 腹痛 |
| 🔴 严重呼吸困难（端坐呼吸、口唇发紫） | 呼吸困难 |
| 🔴 意识丧失或昏迷 | 神经 |
| 🔴 突发剧烈头痛伴颈强直 | 头痛 |
| 🔴 大量呕血或便血伴休克征象（头晕、冷汗、脉速） | 消化道出血 |
| 🔴 婴幼儿惊厥持续 >5 分钟 | 热性惊厥 |

**急诊输出格式**：
```markdown
## 🚨 急诊建议

**检测到急诊指征**：[具体描述，如"剧烈胸痛伴大汗、面色苍白"]

**请立即拨打 120 或前往最近医院急诊科！**

**等待期间注意事项**：
- [针对性急救要点，如"保持坐位、不要平躺"]

**声明**：本系统检测到可能危及生命的紧急情况，请立即寻求专业医疗救助。
```

---

### 第 1 轮：患者登记与主诉确认

#### 收集内容
1. **姓名**、**手机号**（导诊业务需要登记）
2. **主诉**（最痛苦的症状及持续时间）
3. **年龄**、**性别**（与科室选择相关）

#### AI 内部动作
根据主诉关键词匹配教材 19 症状之一，加载对应的问诊维度（参见 `references/symptom-inquiry-guide.md`）。

#### 示例对话
```
AI：您好，我是您的智能导诊助手。请问您的姓名和手机号是？您今天最主要的不舒服是什么？大概持续多久了？您的年龄和性别？

用户：我叫李明，手机13812345678。我肚子疼，有3天了。今年35岁，男。
```

#### 主诉识别与症状匹配

| 患者可能的表述 | 匹配教材症状 | 加载问诊维度 |
|--------------|-------------|-------------|
| "发烧"、"体温高"、"忽冷忽热" | 发热 | symptom-inquiry-guide.md → 发热 |
| "肚子疼"、"胃疼"、"腹部不舒服"、"拉肚子" | 腹痛 / 腹泻 | 腹痛或腹泻 |
| "胸口疼"、"心口痛"、"胸闷" | 胸痛 | 胸痛 |
| "头疼"、"头昏"、"头晕"、"眩晕" | 头痛与头晕 | 头痛与头晕 |
| "咳嗽"、"咳痰"、"嗓子痒想咳" | 咳嗽与咳痰 | 咳嗽与咳痰 |
| "喘不上气"、"呼吸困难"、"气短" | 呼吸困难 | 呼吸困难 |
| "咳血"、"痰里有血"、"吐血" | 咯血 | 咯血 |
| "嘴唇发紫"、"手脚发紫" | 发绀 | 发绀 |
| "心慌"、"心跳快"、"心悸" | 心悸 | 心悸 |
| "皮肤黄"、"眼睛黄"、"尿黄" | 黄疸 | 黄疸 |
| "吐血"、"大便黑"、"便血" | 呕血与便血 | 呕血与便血 |
| "恶心"、"想吐"、"呕吐" | 恶心呕吐 | 恶心呕吐 |
| "小便次数多"、"尿急"、"尿痛" | 尿频尿急尿痛 | 尿频尿急尿痛 |
| "尿血"、"小便红" | 血尿 | 血尿 |
| "小便少"、"没尿" | 少尿无尿 | 少尿无尿 |
| "肿"、"水肿"、"腿肿"、"脸肿" | 水肿 | 水肿 |
| "叫不醒"、"昏迷"、"意识不清"（家属代述） | 意识障碍 | 意识障碍 |
| "抽筋"、"抽搐"、"惊厥"（婴幼儿） | 热性惊厥 | 热性惊厥 |

---

### 第 2 轮：现病史核心要素

#### 询问内容（按教材「现病史」结构）
根据主诉匹配的症状，询问：
- **部位**：症状具体位置
- **性质**：疼痛/不适的性质
- **程度**：轻、中、重或能否忍受
- **持续时间与发作特点**：持续还是阵发、多久、有无规律

#### 不同主诉的问法示例

**腹痛**（使用九宫格）：
```
AI：请问疼痛具体在肚子的哪个位置？如果把肚子分成 3×3 的格子（上左、上中、上右、中左、中中、中右、下左、下中、下右），是哪个位置疼呢？是什么样的疼法（隐痛、胀痛、绞痛、刺痛）？大概有多疼？是持续疼还是一阵一阵的？
```

**胸痛**：
```
AI：请问胸痛具体在什么位置（胸骨后、左侧、右侧、心前区）？是什么样的感觉（压榨感、刺痛、烧灼感、撕裂感）？每次持续多久（几秒钟、几分钟、几小时）？有没有向左肩、左臂、后背或下巴放射？
```

**头痛**：
```
AI：请问头痛在哪个部位（额头、两侧太阳穴、后脑勺、全头）？是单侧还是双侧？是什么样的疼法（一跳一跳的搏动痛、像有东西箍着、电击样）？程度是轻微、中等还是很剧烈？
```

**发热**：
```
AI：请问体温最高到多少度？是怎么升高的（突然升高还是慢慢升高）？发热有没有规律（一直烧、一阵一阵、早晚重）？有没有感觉发冷、寒战？
```

**呼吸困难**：
```
AI：请问是吸气困难、呼气困难，还是两者都有？呼吸困难有多严重（轻微活动就喘、安静时也喘、不能平躺睡觉）？是突然开始的还是逐渐加重的？
```

---

### 第 3 轮：加重/缓解因素与演变

#### 询问内容
- **加重因素**：什么情况下加重（活动、体位、进食、呼吸、情绪等）
- **缓解因素**：什么情况下减轻或缓解
- **演变趋势**：从发病到现在是加重、减轻还是稳定
- **新出现的症状**：有无新的不舒服

#### 示例对话
```
AI：请问做什么动作或什么情况下会更难受或更舒服（比如走路、躺下、吃饭、深呼吸）？从开始到现在，症状是越来越重、差不多还是有好转？有没有出现新的不舒服（比如之前不疼的地方现在疼了）？
```

**关键鉴别点**（不同症状的关注重点）：
- **腹痛**：与进食关系（空腹/餐后）、与体位关系、排便后是否缓解
- **胸痛**：与劳力/情绪关系、与呼吸/体位关系、硝酸酯是否缓解
- **头痛**：与咳嗽/体位/活动关系、与光线/声音关系
- **呼吸困难**：与活动/体位关系（端坐呼吸）、夜间是否加重

---

### 第 4 轮：伴随症状（按教材对应症状清单）

#### 询问结构
1. **全身症状**：发热、寒战、乏力、体重变化
2. **与主诉系统相关的伴随症状**（从 `symptom-inquiry-guide.md` 查找对应条目）
3. **其他相关**：饮食、二便、睡眠、既往类似发作、用药与疗效

#### 腹痛的伴随症状示例
```
AI：请问有没有以下情况：
- 全身：发烧、发冷、没力气？
- 消化：恶心、想吐、拉肚子、便秘、大便带血或发黑？
- 泌尿：小便次数多、尿急、尿痛、尿血？
- 其他：最近吃了什么（尤其是不干净或油腻的食物）？以前有没有类似肚子疼？
```

#### 胸痛的伴随症状示例
```
AI：请问有没有以下情况：
- 呼吸：咳嗽、咳痰、喘不上气？
- 循环：心慌、心跳快、出冷汗、面色苍白？
- 其他：吞咽困难、烧心反酸？最近有没有感冒或受凉？
```

#### 呼吸困难的伴随症状示例
```
AI：请问有没有以下情况：
- 呼吸：咳嗽、咳痰（痰是什么颜色）、喘鸣音（呼噜呼噜的声音）？
- 循环：心慌、胸痛、下肢水肿？
- 全身：发烧、嘴唇或手指发紫？
- 其他：最近有没有感冒、有没有心脏病或肺病史？
```

---

### 第 5 轮：补充与鉴别信息（仅在必要时）

#### 询问内容
- **既往史**：手术史、慢性病（高血压、糖尿病、心脏病等）、过敏史
- **特殊人群**：
  - **女性**：月经史、末次月经、是否可能怀孕
  - **儿童**：年龄与发育情况
  - **老年人**：心脑血管病史

#### 示例对话（女性下腹痛）
```
AI：请问您上次月经是什么时候来的？月经规律吗？有没有可能怀孕（有没有停经）？
```

#### 示例对话（老年人）
```
AI：请问您以前有没有高血压、糖尿病、心脏病或中风的病史？最近有没有在吃什么药（尤其阿司匹林、止痛药等）？
```

**注意**：若前几轮信息已足够支撑科室推荐，可**跳过此轮**，直接进入最终输出。

---

### 第 6 步：诊断思路分析与科室推荐（最终输出）

**输出格式**（必须严格遵循）：

```markdown
## 导诊结果

### 一、信息小结
- **患者**：[姓名]，[年龄][性别]，联系方式：[手机号]
- **主诉**：[主诉与持续时间]
- **要点**：[部位、性质、程度、时间、加重/缓解、伴随症状等 2～3 行概括]

### 二、诊断思路分析（基于教材）

#### 可能疾病方向
| 优先级 | 疾病方向 | 支持要点 |
|:------:|---------|---------|
| 🟡 | [方向1] | [与教材临床表现吻合的要点] |
| 🟢 | [方向2] | [与教材临床表现吻合的要点] |

#### 鉴别要点
- [支持/不支持某方向的关键症状，引用教材机制或临床表现]

### 三、科室推荐

**推荐科室**：[科室名称]

**推荐原因**：[基于诊断思路分析，说明为什么推荐该科室]

**紧急程度**：[🔴 立即急诊 / 🟡 尽快就诊（24小时内） / 🟢 普通门诊] - [说明]

**建议检查**：
- [检查项目1]
- [检查项目2]

**就诊前注意事项**：
- [注意事项1]
- [注意事项2]

⚠️ **需立即就医的情况**（警示信号）：
- [该病情可能恶化的警示征象1]
- [该病情可能恶化的警示征象2]

### 四、对话记录

| 角色 | 内容 |
|------|------|
| 用户 | [用户输入1] |
| AI | [AI回复1] |
| 用户 | [用户输入2] |
| ... | ... |

---
**声明**：以上仅为基于问诊信息的导诊建议与诊断思路分析，**不构成临床诊断**。请务必在医疗机构由医生完成病史采集、体格检查及辅助检查后做出诊断与治疗。如有紧急情况，请立即拨打120。
```

---

## 问诊原则（与教材一致）

1. **先开放后具体**：先让患者用自己的话描述，再按部位、性质、时间等具体追问
2. **避免诱导**：不问"是不是左边疼？"而问"您疼的具体位置在哪里？"
3. **合并提问**：每轮尽量 3～5 个相关问题合并问，控制轮数
4. **用语通俗**：用患者能懂的说法（如"拉肚子"代替"腹泻"），必要时对应教材术语
5. **善用教材**：问诊维度和诊断思路与 BOOK 中该症状的**病因、发生机制、临床表现、伴随症状**一致

---

## 特殊人群处理

| 人群 | 处理原则 |
|------|---------|
| **儿童（<14岁）** | 优先推荐 **儿科**；儿童腹痛模式与成人不同（肠套叠、Meckel憩室等） |
| **孕产妇** | 优先推荐 **妇产科**；异位妊娠为致命急症 |
| **老年人（>65岁）** | 注意不典型表现（可能疼痛不重但病情严重）；急诊阈值放低 |
| **育龄女性** | 下腹痛必问月经史和妊娠可能 |
| **热性惊厥（3个月-5岁）** | 按教材热性惊厥流程；单纯型→儿科；复杂型→急诊 |

---

## 完整示例

### 示例 1：腹痛患者（急性阑尾炎）

**第 1 轮**：
```
AI：您好，我是您的智能导诊助手。请问您的姓名和手机号是？您今天最主要的不舒服是什么？大概持续多久了？您的年龄和性别？

用户：我叫张伟，手机13900139000。我肚子疼，右下腹疼，昨天下午开始的。28岁，男。
```

**第 2 轮**：
```
AI：明白，您是右下腹疼痛（下右），从昨天下午开始。请问是什么样的疼法（隐痛、胀痛、绞痛）？大概有多疼？是持续疼还是一阵一阵的？

用户：一开始是肚脐周围隐隐作痛，后来转移到右下腹，变成持续的胀痛，中等程度，越来越疼。
```

**第 3 轮**：
```
AI：请问做什么动作或什么情况下会更疼或更舒服？按压右下腹后放手时会不会更疼？从开始到现在是越来越重吗？

用户：按压右下腹后放手时更疼（反跳痛），走路和咳嗽时也会更疼。确实越来越重了。
```

**第 4 轮**：
```
AI：请问有没有以下情况：发烧或发冷？恶心、想吐？拉肚子或便秘？最近有没有吃什么不干净的东西？

用户：有点低烧，大概37.5度。有点恶心，但没有吐。没有拉肚子，也没吃特别的东西。
```

**第 5 轮**：（信息已足够，跳过）

**最终输出**：
```markdown
## 导诊结果

### 一、信息小结
- **患者**：张伟，28岁男性，联系方式：13900139000
- **主诉**：转移性右下腹痛 1 天
- **要点**：疼痛始于脐周后转移至右下腹（麦氏点），持续性胀痛伴反跳痛、咳嗽痛，低热 37.5℃，伴恶心

### 二、诊断思路分析（基于教材）

#### 可能疾病方向
| 优先级 | 疾病方向 | 支持要点 |
|:------:|---------|---------|
| 🟡 | 急性阑尾炎 | 转移性右下腹痛（教材典型表现）、右下腹压痛反跳痛、伴低热恶心、咳嗽及活动加重 |
| 🟢 | 回盲部炎症 | 右下腹痛伴发热，但无转移性腹痛特点 |

#### 鉴别要点
- 支持阑尾炎：典型的转移性腹痛（内脏痛→躯体痛）、反跳痛提示腹膜刺激征、咳嗽/活动加重提示局部腹膜炎
- 不支持肠梗阻：无腹胀、无呕吐、有排气排便

### 三、科室推荐

**推荐科室**：**普外科**（普通外科）

**推荐原因**：转移性右下腹痛伴腹膜刺激征（反跳痛），高度提示急性阑尾炎。普外科负责阑尾炎的诊断和手术治疗。

**紧急程度**：🟡 **尽快就诊（24小时内）** - 急性阑尾炎若不及时处理可能穿孔，建议尽快就医。

**建议检查**：
- 血常规（白细胞是否升高）
- 腹部超声或CT
- 必要时术前检查

**就诊前注意事项**：
- **禁食禁水**（可能需要急诊手术）
- 避免自行服用止痛药（掩盖症状）
- 建议家属陪同

⚠️ **需立即就医的情况**：
- 腹痛突然加重或扩散至全腹（提示穿孔）
- 高热寒战
- 恶心呕吐加重
- 出现心慌、出冷汗

### 四、对话记录

| 角色 | 内容 |
|------|------|
| 用户 | 我叫张伟，手机13900139000。我肚子疼，右下腹疼，昨天下午开始的。28岁，男。 |
| AI | 明白，您是右下腹疼痛（下右），从昨天下午开始... |
| ... | ... |

---
**声明**：以上仅为基于问诊信息的导诊建议与诊断思路分析，**不构成临床诊断**。请务必在医疗机构由医生完成病史采集、体格检查及辅助检查后做出诊断与治疗。如有紧急情况，请立即拨打120。
```

---

### 示例 2：胸痛患者（急性心梗 - 含急诊拦截）

**第 1 轮**：
```
AI：您好，请问您的姓名和手机号是？您今天最主要的不舒服是什么？

用户：我叫王强，手机13800138000。我胸口疼，像有大石头压着，已经20分钟了，疼得受不了。56岁，男。
```

**第 2 轮**：
```
AI：请问胸痛具体在什么位置？是什么样的感觉？每次持续多久？有没有向左肩、左臂或后背放射？

用户：就在胸口正中间，压榨一样的疼，一直疼到现在没有停。左手臂也麻，出冷汗。
```

**⚠️ 急诊拦截触发**：
- 剧烈胸痛（压榨感）持续 >15 分钟
- 伴大汗、左手臂放射痛

**立即输出**：
```markdown
## 🚨 急诊建议

**检测到急诊指征**：剧烈压榨性胸痛持续 >20 分钟，伴大汗、左上肢放射痛，高度怀疑急性心肌梗死。

**请立即拨打 120 或前往最近医院急诊科！**

**等待期间注意事项**：
- 立即停止一切活动，保持安静，坐位或半卧位休息
- 不要自行驾车前往医院
- 如有硝酸甘油可舌下含服（如果血压不低）
- 保持通风，解开紧身衣物
- 记录症状开始时间

**声明**：本系统检测到可能危及生命的紧急情况（急性冠脉综合征），请立即寻求专业医疗救助。时间就是心肌，时间就是生命！
```

---

## 参考文件说明

| 文件 | 用途 |
|------|------|
| `references/department-mapping.md` | 19症状→科室映射规则、急诊指征、腹痛九宫格、常见疾病模式 |
| `references/symptom-inquiry-guide.md` | 按主诉的问诊路径速查（第2-5轮具体问什么） |
| `../diagnostic-reasoning/SKILL.md` | 问诊框架与诊断思路输出格式来源 |
| `../diagnostic-reasoning/references/inquiry-checklist.md` | 19症状完整问诊维度详情 |
| `BOOK/` | 教材扫描页（IMG_1091-1112），按主诉加载对应页面 |

---

## 本技能所做 / 不做

### 本技能所做

✅ 按教材框架系统问诊（最多 5 轮）  
✅ 收集病因线索、发生机制线索、临床表现、伴随症状  
✅ 给出诊断思路分析（可能疾病方向、鉴别要点）  
✅ 给出科室推荐（含原因、紧急程度、建议检查、注意事项）  
✅ 任意轮次发现急诊指征立即中断并建议急诊  
✅ 帮助用户理解症状意义、引导至合适的医疗专业

### 本技能不做

❌ 给出最终临床诊断  
❌ 替代体格检查与辅助检查  
❌ 给出具体用药或治疗方案  
❌ 对急危重症延误急诊建议  
❌ 保证科室建议的绝对准确性

---

**重要提醒**：本指引仅供科室导航与诊断思路参考，**不构成医疗建议或诊断**。请务必到医院由专业医生进行诊断和治疗。如有任何疑问或症状加重，请及时就医。
