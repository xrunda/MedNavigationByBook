# 功能验证清单

## 验证环境
- ✅ 项目已成功编译
- ✅ 导航错误已修复
- 📱 微信开发者工具已导入项目

---

## 1️⃣ 登录页面 (pages/login)

### 功能点验证:

- [ ] **页面渲染**
  - [ ] Logo和图标正常显示(🏥 和 ⚕️)
  - [ ] "安和健康"标题正确显示
  - [ ] 两个按钮正常显示
  
- [ ] **交互功能**
  - [ ] 点击"微信一键登录"能跳转到首页
  - [ ] 点击"试用演示"能跳转到首页
  - [ ] 跳转使用switchTab,不会报错

### 预期结果:
✅ 能正常跳转到Dashboard页面,不显示导航错误

---

## 2️⃣ 首页 (pages/dashboard)

### 功能点验证:

- [ ] **页面渲染**
  - [ ] 顶部导航栏显示"安和健康"
  - [ ] 健康状态卡片显示"平稳"
  - [ ] 心率、血氧、体温数据显示
  - [ ] 快捷操作按钮横向滚动
  - [ ] AI导诊卡片显示
  - [ ] 4个功能卡片网格布局
  - [ ] 底部TabBar显示5个标签

- [ ] **TabBar导航**
  - [ ] 点击"测量"切换到测量页
  - [ ] 点击"报告"切换到报告页
  - [ ] 点击"计划"切换到计划页
  - [ ] 点击"我的"切换到个人中心页
  - [ ] 点击"首页"回到Dashboard
  - [ ] 所有切换使用switchTab,不报错

- [ ] **页面内导航**
  - [ ] 点击"问问安和 AI"跳转到Chat页面
  - [ ] 点击快捷操作按钮能正确跳转
  - [ ] 点击功能卡片能正确跳转

### 预期结果:
✅ TabBar导航流畅,页面间切换无错误
✅ Chat页面跳转使用navigateTo正常打开

---

## 3️⃣ AI问诊页面 (pages/chat) ⭐核心功能

### 功能点验证:

- [ ] **页面渲染**
  - [ ] 顶部显示"AI导诊助手"标题
  - [ ] 返回按钮显示
  - [ ] 欢迎消息自动显示
  - [ ] 底部输入框和发送按钮显示

- [ ] **欢迎消息验证**
  ```
  应显示:
  "您好,我是您的智能导诊助手。为了给您提供准确的导诊建议,我需要了解一些基本信息:
  1. 您的姓名和手机号
  2. 您今天最主要的不舒服是什么...
  3. 大概持续多久了?
  4. 您的年龄和性别?"
  ```

- [ ] **输入功能**
  - [ ] 输入框可以输入文字
  - [ ] 输入示例: "张三,13800138000,肚子疼,2天了,35岁,男"
  - [ ] 点击发送按钮
  - [ ] 用户消息显示在右侧(蓝色背景)
  - [ ] 显示loading状态(三个点动画)

- [ ] **AI回复**
  - [ ] AI消息显示在左侧(白色背景)
  - [ ] 显示AI机器人头像(🤖)
  - [ ] 消息内容包含下一步问题
  - [ ] 滚动视图自动滚动到最新消息

- [ ] **5轮问诊流程**
  - [ ] 第1轮: 患者登记与主诉(registration)
  - [ ] 第2轮: 现病史详细询问(presentIllness)
  - [ ] 第3轮: 加重/缓解因素(aggravation)
  - [ ] 第4轮: 伴随症状(accompanying)
  - [ ] 第5轮: 补充信息(supplementary)

- [ ] **急诊拦截**
  - [ ] 测试输入: "胸痛,持续30分钟,伴大汗"
  - [ ] 应显示紧急提醒(红色警告)
  - [ ] 提示立即拨打120
  - [ ] 显示紧急处理措施

- [ ] **导诊结果**
  - [ ] 完成5轮问诊后显示"导诊完成"
  - [ ] 自动跳转到结果页(1.5秒后)
  - [ ] 使用redirectTo跳转

### 预期结果:
✅ AI能正常回复,问诊流程完整
✅ 消息滚动流畅,输入发送正常
✅ 急诊识别正确,结果跳转成功

---

## 4️⃣ 导诊结果页面 (pages/result)

### 功能点验证:

- [ ] **页面渲染**
  - [ ] 显示患者姓名
  - [ ] 显示主诉症状
  - [ ] 推荐科室卡片(紫色渐变背景)
  - [ ] 科室名称和推荐理由
  - [ ] 建议检查列表
  - [ ] 注意事项列表

- [ ] **数据验证**
  - [ ] 从Storage读取lastConsultationResult
  - [ ] 科室推荐准确(例如:腹痛→消化内科)
  - [ ] 检查项目合理
  - [ ] 注意事项完整

- [ ] **交互功能**
  - [ ] 点击"返回首页"按钮
  - [ ] 使用switchTab跳转到Dashboard
  - [ ] 不报导航错误

### 预期结果:
✅ 导诊结果完整准确
✅ 返回首页正常

---

## 5️⃣ 辅助页面 (Measure/Report/Plan/UserProfile)

### 功能点验证:

- [ ] **Measure页面**
  - [ ] 显示"页面开发中..."
  - [ ] TabBar正确高亮"测量"

- [ ] **Report页面**
  - [ ] 显示"页面开发中..."
  - [ ] TabBar正确高亮"报告"

- [ ] **Plan页面**
  - [ ] 显示"页面开发中..."
  - [ ] TabBar正确高亮"计划"

- [ ] **UserProfile页面**
  - [ ] 显示"页面开发中..."
  - [ ] TabBar正确高亮"我的"

### 预期结果:
✅ 占位页面正常显示
✅ TabBar状态正确

---

## 6️⃣ 整体功能流程测试

### 完整用户旅程:

1. [ ] **启动流程**
   ```
   Login → 点击登录 → Dashboard
   ```

2. [ ] **问诊流程**
   ```
   Dashboard → 问问安和AI → Chat → 5轮问诊 → Result → 返回首页
   ```

3. [ ] **导航流程**
   ```
   Dashboard → TabBar切换 → Measure/Report/Plan/UserProfile → Dashboard
   ```

### 预期结果:
✅ 整个流程无报错
✅ 页面跳转流畅
✅ 数据传递正确

---

## 7️⃣ 样式和体验验证

- [ ] **样式检查**
  - [ ] 字体大小合适(rpx单位)
  - [ ] 间距布局合理
  - [ ] 颜色对比清晰
  - [ ] 卡片阴影正常
  - [ ] 动画效果流畅

- [ ] **响应式**
  - [ ] 不同屏幕尺寸正常显示
  - [ ] 横向滚动区域滚动流畅
  - [ ] ScrollView滚动正常

- [ ] **交互反馈**
  - [ ] 按钮点击有反馈
  - [ ] Loading状态明显
  - [ ] 错误提示清晰

---

## 8️⃣ 已知限制

### 当前版本限制:

1. ❌ **图表功能**: recharts不兼容小程序,图表功能未实现
2. ⏳ **辅助页面**: Measure/Report/Plan为占位实现
3. 📷 **TabBar图标**: 使用占位图片,建议替换
4. 🔗 **深度链接**: 未实现小程序分享和扫码跳转

### 不影响核心功能:
✅ AI问诊完整可用
✅ 导航跳转正常
✅ 数据存储正常

---

## 验证结果记录

### 测试环境:
- 微信开发者工具版本: _________
- 基础库版本: _________
- 测试日期: _________

### 核心功能验证:
- [ ] ✅ 登录页正常
- [ ] ✅ 首页正常
- [ ] ✅ AI问诊正常
- [ ] ✅ 导诊结果正常
- [ ] ✅ TabBar导航正常

### 发现的问题:
1. _________________________________________
2. _________________________________________
3. _________________________________________

### 验证结论:
- [ ] ✅ 通过 - 可以正常使用
- [ ] ⚠️ 部分通过 - 有小问题但不影响使用
- [ ] ❌ 不通过 - 有严重错误需要修复

---

## 真机测试建议

如需在手机上测试:

1. **预览步骤**:
   - 点击开发者工具的"预览"按钮
   - 用微信扫描二维码
   - 在手机微信中打开体验

2. **真机验证重点**:
   - [ ] 输入法兼容性
   - [ ] 滚动流畅度
   - [ ] 网络请求(如果启用)
   - [ ] 存储读写
   - [ ] 返回键处理

---

**验证完成度**: ____ / 45 项

**备注**:
_________________________________________________________________
_________________________________________________________________
